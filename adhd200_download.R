rm(list = ls()); gc(reset = TRUE)

############################################
############# download dataset #############
############################################
template <- "https://s3.amazonaws.com/your_path"
file_template <- "ADHD200-HO/%s.csv"


sample_id <-
  c(
    "0010020",
    "0010074",
    "0015038",
    "0016015",
    "0016030",
    "0016031",
    "0016032",
    "0016033",
    "0016034",
    "0016035",
    "0016036",
    "0016037",
    "0016038",
    "0016039",
    "0016048",
    "0016070",
    "0016071",
    "0016072",
    "0016073",
    "0016077",
    "0016078",
    "0016079",
    "0023010",
    "0023011",
    "0023013",
    "0023016",
    "0023017",
    "0023018",
    "0023019",
    "0023020",
    "0023024",
    "0023025",
    "0023027",
    "0023028",
    "0023042",
    "0025001",
    "0025009",
    "0026022",
    "0026024",
    "0026052",
    "0026053",
    "0026054",
    "0026055",
    "0026057",
    "0027000",
    "0027003",
    "0027004",
    "0027005",
    "0027007",
    "1017176",
    "1038415",
    "1050345",
    "1057962",
    "1068505",
    "1139030",
    "1201251",
    "1391181",
    "1411495",
    "1438162",
    "1469171",
    "1517058",
    "1541812",
    "1561488",
    "1594156",
    "1647968",
    "1686265",
    "1784368",
    "1794770",
    "1805037",
    "1809715",
    "1860323",
    "1875084",
    "1875711",
    "1879542",
    "1883688",
    "1947991",
    "1985430",
    "1995121",
    "1996183",
    "2033178",
    "2081148",
    "2081754",
    "2106109",
    "2138826",
    "2140063",
    "2141250",
    "2174595",
    "2207418",
    "2208591",
    "2268253",
    "2296326",
    "2299519",
    "2344857",
    "2360428",
    "2377207",
    "2411995",
    "2419464",
    "2498847",
    "2599965",
    "2601925",
    "2621228",
    "2641332",
    "2659769",
    "2697768",
    "2703336",
    "2740232",
    "2756846",
    "2897046",
    "2903997",
    "2907951",
    "2961243",
    "3004580",
    "3205761",
    "3212536",
    "3233028",
    "3304956",
    "3306863",
    "3310328",
    "3313497",
    "3320367",
    "3486975",
    "3494778",
    "3515506",
    "3519022",
    "3566449",
    "3587000",
    "3672854",
    "3767334",
    "3803759",
    "3827352",
    "3884955",
    "3888614",
    "3889095",
    "3902469",
    "3910672",
    "3917422",
    "3930512",
    "3976121",
    "3980079",
    "4053836",
    "4055710",
    "4095229",
    "4225073",
    "4241194",
    "4256491",
    "4265987",
    "4919979",
    "5150328",
    "6115230",
    "6187322",
    "6346605",
    "6383713",
    "6477085",
    "7253183",
    "7339173",
    "7774305",
    "7994085",
    "8191384",
    "8337695",
    "8628223",
    "9002207",
    "9093997"
  )

file_id <- sample_id
roi_ts <- list()
i <- 1
for (i in 1:length(file_id)) {
  if (file_id[i] != "no_filename") {
    print(as.character(file_id[i]))
    file_name <- sprintf(file_template, file_id[i])
    if (file.exists(file_name)) {
      roi_ts[[i]] <- ts_tmp <- read.table(file_name)
    } else {
      file_web <- sprintf(template, file_id[i])
      ts_tmp <- read.csv(file_web, header = TRUE, row.names = 1)
      write.table(ts_tmp, file_name, col.names = FALSE, row.names = FALSE)
      roi_ts[[i]] <- ts_tmp
    }
  }
}
roi_ts <- lapply(roi_ts, t)
save(roi_ts, file = "ADHD200-HO/roi_ts.rda")
load("ADHD200-HO/roi_ts.rda")